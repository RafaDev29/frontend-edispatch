"use strict";(self["webpackChunkfrontend_ebox_platform"]=self["webpackChunkfrontend_ebox_platform"]||[]).push([[896],{6859:function(e,t,a){a.d(t,{A:function(){return o}});a(4114);function n(e){return{all:e=e||new Map,on:function(t,a){var n=e.get(t);n?n.push(a):e.set(t,[a])},off:function(t,a){var n=e.get(t);n&&(a?n.splice(n.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var n=e.get(t);n&&n.slice().map((function(e){e(a)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,a)}))}}}const s=n();var o=s},7572:function(e,t,a){a.d(t,{A:function(){return x}});var n=a(6768),s=a(4232),o=a(1772),l=a(9669);const r=e=>((0,n.Qi)("data-v-2fddf57c"),e=e(),(0,n.jt)(),e),i={class:"bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto text-center relative"},c={class:"flex items-center justify-center mb-4"},d=r((()=>(0,n.Lk)("span",{class:"text-2xl font-bold text-red-600"},"¡Error!",-1))),u={class:"text-gray-700 mb-4"};function m(e,t,a,r,m,v){return(0,n.uX)(),(0,n.Wv)(o.p,{modelValue:r.visible,"onUpdate:modelValue":t[0]||(t[0]=e=>r.visible=e),"max-width":"400px",persistent:"",transition:"dialog-bottom-transition"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[(0,n.bF)(l.w,{color:"red",class:"mr-2 text-3xl"},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-alert-circle")])),_:1}),d]),(0,n.Lk)("div",u,[(0,n.Lk)("span",null,(0,s.v_)(r.message),1)]),(0,n.Lk)("div",{class:(0,s.C4)(["absolute bottom-0 left-0 w-full h-1 bg-red-500 rounded-b-lg",{"animate-fadeout":r.visible}])},null,2)])])),_:1},8,["modelValue"])}var v=a(144),f=a(6859),g={name:"ErrorAlert",setup(){const e=(0,v.KR)(!1),t=(0,v.KR)("");return f.A.on("error",(a=>{t.value=a,e.value=!0,setTimeout((()=>e.value=!1),3e3)})),{visible:e,message:t}}},p=a(1241);const b=(0,p.A)(g,[["render",m],["__scopeId","data-v-2fddf57c"]]);var x=b},4734:function(e,t,a){a.d(t,{A:function(){return p}});var n=a(6768),s=a(1772),o=a(9669);const l=e=>((0,n.Qi)("data-v-34198fba"),e=e(),(0,n.jt)(),e),r={class:"bg-white bg-opacity-75 backdrop-blur-lg rounded-lg shadow-lg p-6 max-w-xs mx-auto text-center relative"},i={class:"flex items-center justify-center"},c=l((()=>(0,n.Lk)("div",{class:"text-black-700 mt-4 font-semibold text-lg"},"Cargando...",-1)));function d(e,t,a,l,d,u){return(0,n.uX)(),(0,n.Wv)(s.p,{modelValue:l.visible,"onUpdate:modelValue":t[0]||(t[0]=e=>l.visible=e),"max-width":"200px",persistent:"",transition:"dialog-bottom-transition"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",r,[(0,n.Lk)("div",i,[(0,n.bF)(o.w,{color:"orange",class:"text-5xl animate-spin"},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-loading")])),_:1})]),c])])),_:1},8,["modelValue"])}var u=a(144),m=a(6859),v={name:"LoadingAlert",setup(){const e=(0,u.KR)(!1);return m.A.on("loading",(t=>{e.value=t})),{visible:e}}},f=a(1241);const g=(0,f.A)(v,[["render",d],["__scopeId","data-v-34198fba"]]);var p=g},8372:function(e,t,a){a.d(t,{A:function(){return x}});var n=a(6768),s=a(4232),o=a(1772),l=a(9669);const r=e=>((0,n.Qi)("data-v-07f8a88a"),e=e(),(0,n.jt)(),e),i={class:"bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto text-center relative animate-toast"},c={class:"flex items-center justify-center mb-4"},d=r((()=>(0,n.Lk)("span",{class:"text-2xl font-bold text-green-600"},"¡Éxito!",-1))),u={class:"text-gray-700 mb-4"};function m(e,t,a,r,m,v){return(0,n.uX)(),(0,n.Wv)(o.p,{modelValue:r.visible,"onUpdate:modelValue":t[0]||(t[0]=e=>r.visible=e),"max-width":"400px",persistent:"",transition:"fade-scale"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[(0,n.bF)(l.w,{color:"green",class:"mr-2 text-3xl"},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-check-circle")])),_:1}),d]),(0,n.Lk)("div",u,[(0,n.Lk)("span",null,(0,s.v_)(r.message),1)]),(0,n.Lk)("div",{class:(0,s.C4)(["absolute bottom-0 left-0 w-full h-1 bg-green-500 rounded-b-lg",{"animate-fadeout":r.visible}])},null,2)])])),_:1},8,["modelValue"])}var v=a(144),f=a(6859),g={name:"SuccessAlert",setup(){const e=(0,v.KR)(!1),t=(0,v.KR)("");return f.A.on("success",(a=>{t.value=a,e.value=!0,setTimeout((()=>e.value=!1),1e3)})),{visible:e,message:t}}},p=a(1241);const b=(0,p.A)(g,[["render",m],["__scopeId","data-v-07f8a88a"]]);var x=b},3194:function(e,t,a){a.d(t,{A:function(){return w}});var n=a(6768),s=a(4232),o=a(2807),l=a(1772),r=a(9669);const i=e=>((0,n.Qi)("data-v-386375f2"),e=e(),(0,n.jt)(),e),c={class:"bg-white rounded-lg shadow-lg p-6 max-w-md mx-auto text-center relative"},d={class:"flex items-center justify-center mb-4"},u=i((()=>(0,n.Lk)("span",{class:"text-2xl font-semibold text-orange-600"},"¡Advertencia!",-1))),m={class:"text-gray-700 mb-4"},v={class:"flex justify-end space-x-2"};function f(e,t,a,i,f,g){return(0,n.uX)(),(0,n.Wv)(l.p,{modelValue:i.visible,"onUpdate:modelValue":t[0]||(t[0]=e=>i.visible=e),"max-width":"400px",persistent:"",transition:"dialog-bottom-transition"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[(0,n.bF)(r.w,{color:"orange",class:"mr-2 text-3xl"},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-alert-circle")])),_:1}),u]),(0,n.Lk)("div",m,[(0,n.Lk)("span",null,(0,s.v_)(i.message),1)]),(0,n.Lk)("div",v,[(0,n.bF)(o.D,{color:"grey lighten-1",onClick:i.closeAlert,elevation:"1",class:"bg-gray-300 text-gray-700 hover:bg-gray-400 rounded-md px-4 py-2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Cancelar ")])),_:1},8,["onClick"]),(0,n.bF)(o.D,{color:"orange",onClick:i.confirmAction,elevation:"1",class:"bg-orange-500 text-white hover:bg-orange-600 rounded-md px-4 py-2"},{default:(0,n.k6)((()=>[(0,n.eW)(" Aceptar ")])),_:1},8,["onClick"])])])])),_:1},8,["modelValue"])}var g=a(144),p=a(6859),b={name:"WarningAlert",setup(){const e=(0,g.KR)(!1),t=(0,g.KR)("");let a=null;p.A.on("warning",(({msg:n,action:s})=>{t.value=n,a=s,e.value=!0}));const n=()=>{a&&a(),e.value=!1},s=()=>{e.value=!1};return{visible:e,message:t,confirmAction:n,closeAlert:s}}},x=a(1241);const k=(0,x.A)(b,[["render",f],["__scopeId","data-v-386375f2"]]);var w=k},9189:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=a(6768);const s=e=>((0,n.Qi)("data-v-3c6c1b9c"),e=e(),(0,n.jt)(),e),o={class:"containerlogin relative flex items-start h-screen"},l=s((()=>(0,n.Lk)("div",{class:"overlay absolute inset-0 bg-[#fc844c] opacity-30"},null,-1))),r={class:"form-wrapper relative w-full sm:w-3/4 md:w-2/4 lg:w-1/4 h-full p-4 bg-[#130f23] text-white shadow-lg"},i={class:"formLogin h-full flex flex-col justify-center"};function c(e,t,a,s,c,d){const u=(0,n.g2)("FormAuthVue"),m=(0,n.g2)("SuccessAlert"),v=(0,n.g2)("ErrorAlert"),f=(0,n.g2)("WarningAlert"),g=(0,n.g2)("LoadAlert");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",o,[l,(0,n.Lk)("div",r,[(0,n.Lk)("div",i,[(0,n.bF)(u,{onValidateLogin:s.onValidateLogin},null,8,["onValidateLogin"])])])]),(0,n.bF)(m),(0,n.bF)(v),(0,n.bF)(f),(0,n.bF)(g)],64)}a(4114);var d=a(144),u=a(973),m=a(5130),v=a(2807),f=a(1560),g=a(5728);const p=e=>((0,n.Qi)("data-v-27ab2162"),e=e(),(0,n.jt)(),e),b={class:"flex items-center justify-center min-h-screen bg-[#130f23] p-4"},x={class:"w-full max-w-md bg-transparent shadow-none p-6"},k={class:"flex justify-center mb-4"},w=["src"],A=p((()=>(0,n.Lk)("h1",{class:"text-lg text-[#fc844c] text-center mb-4 font-bold"},"¡Bienvenido de nuevo!",-1))),L=p((()=>(0,n.Lk)("p",{class:"text-xs text-gray-400 text-center mb-4"}," Ingresa las credenciales que le brindó su proveedor ",-1))),h=p((()=>(0,n.Lk)("div",{class:"mt-8 text-gray-400 text-[9.8px] text-center"},[(0,n.Lk)("p",{class:"font-semibold"}," Soluciones para el Servicio de Abastecimiento "),(0,n.Lk)("p",null,[(0,n.eW)(" Soluciones integrales, atención especializada "),(0,n.Lk)("br"),(0,n.eW)(" y personalizada a todos nuestros clientes. ")])],-1)));function y(e,t,a,s,o,l){return(0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("div",x,[(0,n.Lk)("div",k,[(0,n.Lk)("img",{src:o.LogoImage,alt:"Logo",class:"w-20 h-20"},null,8,w)]),A,L,(0,n.bF)(f.n,{onSubmit:(0,m.D$)(s.validateLogin,["prevent"])},{default:(0,n.k6)((()=>[(0,n.bF)(g.W,{modelValue:s.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),label:"Usuario","prepend-inner-icon":"mdi-account-outline",variant:"outlined",color:"#fc844c",class:"text-white w-full mb-4"},null,8,["modelValue"]),(0,n.bF)(g.W,{modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),label:"Contraseña","append-inner-icon":s.showPassword?"mdi-eye-off":"mdi-eye",type:s.showPassword?"text":"password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined",color:"#fc844c",class:"text-white w-full mb-4","onClick:appendInner":s.togglePasswordVisibility},null,8,["modelValue","append-inner-icon","type","onClick:appendInner"]),(0,n.bF)(v.D,{type:"submit",color:"#fc844c",class:"w-full mt-4 text-[#130f23] font-bold"},{default:(0,n.k6)((()=>[(0,n.eW)("Ingresar")])),_:1})])),_:1},8,["onSubmit"]),h])])}var _=a.p+"img/logo_sysnet.6171b6c3.png",V={data(){return{LogoImage:_}},emits:["validate-login"],setup(e,{emit:t}){const a=(0,d.KR)(""),n=(0,d.KR)(""),s=(0,d.KR)(!1),o=()=>{const e={username:a.value,password:n.value};t("validate-login",e)},l=()=>{s.value=!s.value};return{username:a,password:n,validateLogin:o,togglePasswordVisibility:l,showPassword:s}}},F=a(1241);const W=(0,F.A)(V,[["render",y],["__scopeId","data-v-27ab2162"]]);var C=W,j=a(1189);const I="http://147.182.161.84:9000/api/v1";function K(e){return j.A.post(`${I}/auth/login`,e)}var R=a(5129),E=a(6859),U=a(8372),S=a(7572),Q=a(3194),X=a(4734),q={components:{FormAuthVue:C,SuccessAlert:U.A,ErrorAlert:S.A,WarningAlert:Q.A,LoadAlert:X.A},setup(){const e=(0,d.KR)(""),t=(0,d.KR)(!1),a=(0,u.rd)(),s=(0,u.lq)(),o=async n=>{try{E.A.emit("loading",!0);const e=await K(n),t=e.data.data,s=e.data.data;R.A.commit("setUsername",t.username),R.A.commit("setToken",s.token),R.A.commit("setRole",t.role),R.A.commit("setIsAuthenticated",!0),E.A.emit("success","Credenciales correctas"),setTimeout((()=>{a.push("/")}),1e3)}catch(s){t.value=!0,s.response?400===s.response.status?E.A.emit("error","Usuario no encontrado"):500===s.response.status?(E.A.emit("error","Error 500: Error interno del servidor"),e.value=""):E.A.emit("error",`${s.response.data.message}`):s.request?E.A.emit("error","No se recibió respuesta del servidor"):E.A.emit("error",`Error al configurar la solicitud: ${s.message} `)}finally{E.A.emit("loading",!1)}};return(0,n.sV)((()=>{const e=s.query.username,t=s.query.password;e&&t&&o({username:e,password:t})})),{onValidateLogin:o,messageError:e,statusError:t}}};const P=(0,F.A)(q,[["render",c],["__scopeId","data-v-3c6c1b9c"]]);var D=P}}]);
//# sourceMappingURL=896.0538d3e9.js.map